N2Require("SmartSliderCarousel",["SmartSliderAbstract"],[],function(i,e,t){function s(t,s){this.type="carousel",this.responsiveClass=e.SmartSliderResponsiveCarousel,s=i.extend({maxPaneWidth:3e3},s),e.SmartSliderAbstract.prototype.constructor.call(this,t,s)}return s.prototype=Object.create(e.SmartSliderAbstract.prototype),s.prototype.constructor=s,s.prototype.__postInit=function(i,t,s){this.hasStatic=t.find(".n2-ss-static-slide").length,e.SmartSliderAbstract.prototype.__postInit.apply(this,arguments)},s.prototype.initMainAnimation=function(){this.mainAnimation=new e.SmartSliderMainAnimationCarousel(this,this.parameters.mainanimation),this.sliderElement.one("SliderResize",i.proxy(function(){this.visible(function(){this.isAdmin||this.parameters.layerMode.playFirstLayer&&(this.callOnSlide(this.slides.eq(this.currentSlideIndex),"setStart"),this.ready(i.proxy(function(){this.callOnSlide(this.slides.eq(this.currentSlideIndex),"playIn")},this)))})},this))},s.prototype.findSlides=function(){this.slidesInGroup=1,this.slides=this.sliderElement.find(".n2-ss-slide-group").on("mainAnimationStartIn",i.proxy(function(i,e,t,s){this.callOnSlide(this.slides.eq(s),"setStart")},this));for(var e=0;e<this.slides.length;e++)this.slides.eq(e).data("originalIndex",e);this.parameters.randomize.randomize&&this.shuffleSlides(),this.realSlides=this.sliderElement.find(".n2-ss-slide");for(var e=0;e<this.realSlides.length;e++)this.realSlides.eq(e).data("originalIndex",e);this.parameters.randomize.randomizeFirst&&(this.realSlides.filter(".n2-ss-slide-active").removeClass("n2-ss-slide-active"),this.realSlides.eq(Math.floor(Math.random()*this.slides.length)).addClass("n2-ss-slide-active")),this.currentSlide=this.realSlides.filter(".n2-ss-slide-active")},s.prototype.randomize=function(){},s.prototype.shuffleSlides=function(){this.slides.sort(function(){return Math.round(Math.random())-.5}),this.slides.appendTo(this.slides.parent()),this.shuffled=[];for(var i=0;i<this.slides.length;i++)this.shuffled[i]=this.slides.eq(i).data("originalIndex")},s.prototype.calibrateGroup=function(e){if(this.slidesInGroup!=e){var t=this.slides.eq(this.currentSlideIndex).find(".n2-ss-slide"),s=this.slides.parent(),n=i();if(this.realSlides.each(i.proxy(function(t,r){t%e==0&&(n=n.add(i('<div class="n2-ss-slide-group"></div>').appendTo(s))),n.eq(Math.floor(t/e)).append(r)})),this.slides.remove(),this.slides=n,this.slidesInGroup=e,n.on("mainAnimationStartIn",i.proxy(function(i,e,t,s){this.callOnSlide(this.slides.eq(s),"setStart")},this)),this.currentSlideIndex=0,this.isAdmin)this.currentSlideIndex=this.currentSlide.parent().index()-this.hasStatic;else if("resolved"==this.readyDeferred.state()){var r=this.slides.eq(this.currentSlideIndex).find(".n2-ss-slide");t.not(r).each(function(e,t){i(t).data("slide").reset(),i(t).data("slide").setStart()}),r.not(t).each(function(e,t){i(t).data("slide").setStart(),i(t).data("slide").playIn()})}else this.currentSlideIndex=this.currentSlide.parent().index()-this.hasStatic;if(this.mainAnimation.setActiveSlide(this.slides.eq(this.currentSlideIndex)),this.setActiveSlide(this.slides.eq(this.currentSlideIndex)),"pending"==this.visibleDeferred.state()){for(var a=0;a<this.realSlides.length;a++)this.realSlides[a].isFirstSlide=!1;this.slides.eq(this.currentSlideIndex).find(".n2-ss-slide").each(function(e,t){i(t).data("slide").isFirstSlide=!0})}this.ready(i.proxy(function(){this.sliderElement.trigger("slideCountChanged",[this.slides.length,this.slidesInGroup]),this.sliderElement.trigger("sliderSwitchTo",[this.currentSlideIndex,this.getRealIndex(this.currentSlideIndex)])},this))}},s.prototype.initSlides=function(){if(this.layerMode){for(var i=0;i<this.realSlides.length;i++)new e.FrontendComponentSlide(this,this.realSlides.eq(i),this.realSlides.eq(i).parent().is(this.slides[this.currentSlideIndex]));var t=this.findStaticSlide();t.length&&new e.FrontendComponentStaticSlide(this,t)}},s.prototype.callOnSlide=function(e,t){e.find(".n2-ss-slide").each(function(e,s){i(s).data("slide")[t]()})},s.prototype.getRealIndex=function(i){return i*this.slidesInGroup},s.prototype.getSlideIndex=function(i){return Math.floor(i/this.slidesInGroup)},s.prototype.directionalChangeToReal=function(i){this.directionalChangeTo(this.getSlideIndex(i))},s.prototype.adminGetCurrentSlideElement=function(){return this.parameters.isStaticEdited?this.findStaticSlide():this.realSlides.filter(".n2-ss-slide-active")},s}),N2Require("SmartSliderResponsiveCarousel",["SmartSliderResponsive"],[],function(i,e,t){function s(t,s){this.slideInGroup=1,this.maximumPaneWidthRatio=0,this.wH=0,"undefined"==typeof s.minimumSlideGap&&(s.minimumSlideGap=10),t.sliderElement.on("SliderResize",i.proxy(this.onSliderResize,this)),e.SmartSliderResponsive.prototype.constructor.call(this,t,s),this.fixedEditRatio=0}return s.prototype=Object.create(e.SmartSliderResponsive.prototype),s.prototype.constructor=s,s.prototype.storeDefaults=function(){e.SmartSliderResponsive.prototype.storeDefaults.apply(this,arguments),this.slider.parameters.maxPaneWidth>0&&(this.maximumPaneWidthRatio=this.slider.parameters.maxPaneWidth/this.responsiveDimensions.startWidth)},s.prototype.init=function(){this.sliderElement.find(".n2-ss-section-main-content").length&&(this.updateVerticalRatios=this._updateVerticalRatios),this._sliderHorizontal=this.addHorizontalElement(this.sliderElement,["width","marginRight","marginLeft"],"w","slider"),this._sliderVertical=this.addVerticalElement(this.sliderElement,["height","marginTop","marginBottom"],"h","slider"),this.addHorizontalElement(this.sliderElement,["fontSize"],"fontRatio","slider"),this.addHorizontalElement(this.sliderElement.find(".n2-ss-slider-1"),["width","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],"w"),this.addVerticalElement(this.sliderElement.find(".n2-ss-slider-1"),["height","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],"h"),this.addHorizontalElement(this.sliderElement.find(".n2-ss-slider-pane"),["width"],"paneW","pane"),this.addVerticalElement(this.sliderElement.find(".n2-ss-slider-pane"),["height"],"h","pane").setCentered(),this.addHorizontalElement(this.sliderElement.find(".n2-ss-slide"),["width"],"slideW","slideouter"),this.addVerticalElement(this.sliderElement.find(".n2-ss-slide"),["height"],"slideH","slideouter"),this.addHorizontalElement(this.sliderElement.find(".n2-ss-layers-container"),["width"],"slideW","slide"),this.addVerticalElement(this.sliderElement.find(".n2-ss-layers-container"),["height"],"slideH","slide").setCentered()},s.prototype._buildRatios=function(e,t,s){this.maximumPaneWidthRatio>0&&e.w>this.maximumPaneWidthRatio?e.paneW=this.maximumPaneWidthRatio:e.paneW=e.w;var n=this.responsiveDimensions.startWidth*e.paneW;if(n<this.responsiveDimensions.startSlideWidth){var r=n/this.responsiveDimensions.startSlideWidth;e.h=r,e.slideW=r,e.slideH=r}else e.h=1,e.slideW=1,e.slideH=1;var a=this.getDeviceModeOrientation();if(this.parameters.minimumHeightRatio>0&&(e.h=Math.max(e.h,this.parameters.minimumHeightRatio)),this.parameters.maximumHeightRatio[a]>0&&(e.h=Math.min(e.h,this.parameters.maximumHeightRatio[a])),this.slider.parameters.dynamicSliderHeight){var d=i(window).height()-100;Math.abs(this.wH-d)<100?d=this.wH:this.wH=d,e.h*this.responsiveDimensions.startHeight>d&&(e.slideW=e.slideH=d/this.responsiveDimensions.startHeight,"fullpage"!=this.parameters.type&&(e.h=e.slideW))}this.slideInGroup=Math.max(1,Math.floor(n/(this.responsiveDimensions.startSlideWidth*e.slideW+this.parameters.minimumSlideGap))),this.slider.calibrateGroup(this.slideInGroup),this.sliderElement.triggerHandler("responsiveBuildRatios",[e])},s.prototype.onSliderResize=function(){var i=Math.floor((this.responsiveDimensions.pane.width-this.responsiveDimensions.slide.width*this.slider.slidesInGroup)/this.slider.slidesInGroup/2);this.slider.realSlides.css({marginLeft:i,marginRight:i,marginTop:parseInt((this.responsiveDimensions.pane.height-this.responsiveDimensions.slide.height)/2)});var e=this.slider.getRealIndex(this.slider.slides.length-1),t=this.slider.realSlides.length-e;if(t!=this.slideInGroup)for(var i=Math.floor((this.responsiveDimensions.pane.width-this.responsiveDimensions.slide.width*t)/t/2),s=e;s<this.slider.realSlides.length;s++)this.slider.realSlides.eq(s).css({marginLeft:i,marginRight:i})},s}),N2Require("SmartSliderMainAnimationCarousel",["SmartSliderMainAnimationAbstract"],[],function(i,e,t){function s(t,s){switch(s=i.extend({delay:0,type:"horizontal"},s),s.delay/=1e3,e.SmartSliderMainAnimationAbstract.prototype.constructor.apply(this,arguments),this.setActiveSlide(this.slider.slides.eq(this.slider.currentSlideIndex)),this.animations=[],this.parameters.type){case"fade":this.animations.push(this._mainAnimationFade);break;case"vertical":this.animations.push(this._mainAnimationVertical);break;case"no":this.animations.push(this._mainAnimationNo);break;case"fade":this.animations.push(this._mainAnimationFade);break;case"fade":this.animations.push(this._mainAnimationFade);break;default:this.animations.push(this._mainAnimationHorizontal)}}return s.prototype=Object.create(e.SmartSliderMainAnimationAbstract.prototype),s.prototype.constructor=s,s.prototype.setActiveSlide=function(i){for(var e=this.slider.slides.not(i),t=0;t<e.length;t++)this._hideSlide(e.eq(t))},s.prototype._hideSlide=function(i){NextendTween.set(i.get(0),{left:"-100000px"})},s.prototype._showSlide=function(i){NextendTween.set(i.get(0),{left:0})},s.prototype._getAnimation=function(){return i.proxy(this.animations[Math.floor(Math.random()*this.animations.length)],this)},s.prototype._initAnimation=function(i,e,t,s,n){var r=this._getAnimation();r(e,s,n,i,t)},s.prototype.onChangeToComplete=function(i,t,s){this._hideSlide(this.slider.slides.eq(i)),e.SmartSliderMainAnimationAbstract.prototype.onChangeToComplete.apply(this,arguments)},s.prototype._mainAnimationNo=function(e,t,s,n,r){this._showSlide(t),this.slider.unsetActiveSlide(e),t.css("opacity",0),this.slider.setActiveSlide(t),this.timeline.set(e,{opacity:0},0),this.timeline.set(t,{opacity:1},0),this.sliderElement.on("mainAnimationComplete.n2-simple-no",i.proxy(function(i,e,t,s){this.sliderElement.off("mainAnimationComplete.n2-simple-no"),this.slider.slides.eq(t).css("opacity",""),this.slider.slides.eq(s).css("opacity","")},this))},s.prototype._mainAnimationFade=function(e,t,s,n,r){e.css("zIndex",5),this._showSlide(t),this.slider.unsetActiveSlide(e),this.slider.setActiveSlide(t),this.timeline.to(e.get(0),this.parameters.duration,{opacity:0,ease:this.getEase()},0),t.css("opacity",1),this.sliderElement.on("mainAnimationComplete.n2-simple-fade",i.proxy(function(i,e,t,s){this.sliderElement.off("mainAnimationComplete.n2-simple-fade"),this.slider.slides.eq(t).css("zIndex","").css("opacity",""),this.slider.slides.eq(s).css("opacity","")},this))},s.prototype._mainAnimationHorizontal=function(i,e,t,s,n){this.__mainAnimationDirection(i,e,"horizontal",t,s,n)},s.prototype._mainAnimationVertical=function(i,e,t,s,n){this._showSlide(e),this.__mainAnimationDirection(i,e,"vertical",t,s,n)},s.prototype.__mainAnimationDirection=function(e,t,s,n,r,a){var d="",l=0;"horizontal"==s?(d="left",l=e.width()):"vertical"==s&&(d="top",l=e.height()),n&&(l*=-1),t.css(d,l),t.css("zIndex",5),e.css("zIndex",4),this.slider.unsetActiveSlide(e),this.slider.setActiveSlide(t);var o={ease:this.getEase()};o[d]=0,this.timeline.to(t.get(0),this.parameters.duration,o,0);var h={ease:this.getEase()};h[d]=-l,this.timeline.to(e.get(0),this.parameters.duration,h,0),this.sliderElement.on("mainAnimationComplete.n2-simple-fade",i.proxy(function(i,e,t,s){this.sliderElement.off("mainAnimationComplete.n2-simple-fade"),this.slider.slides.eq(s).css("zIndex","").css(d,""),this.slider.slides.eq(t).css("zIndex","")},this))},s});